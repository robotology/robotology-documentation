\hypertarget{group__ctpService}{}\doxysection{constant\+Time\+Position\+Service}
\label{group__ctpService}\index{constantTimePositionService@{constantTimePositionService}}


A simple service that allows you to send constant time position commands to any of the robot ports.  


Collaboration diagram for constant\+Time\+Position\+Service\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__ctpService}
\end{center}
\end{figure}
A simple service that allows you to send constant time position commands to any of the robot ports. 

\hypertarget{group__tutorial__perceptiveModels_intro_sec}{}\doxysubsection{Description}\label{group__tutorial__perceptiveModels_intro_sec}
Sit silently and waits for incoming commands. Receive position commands requests and sends position commands, but it computes the reference speeds so that commands are all executed in the same time irrespectively of the current position (the service reads the current encoders and compute the reference speed accordingly).\hypertarget{group__ctpService_ports_sec}{}\doxysubsection{Ports and Messages}\label{group__ctpService_ports_sec}

\begin{DoxyItemize}
\item Input, for receiving commands\+:
\begin{DoxyItemize}
\item /ctpservice/\{part\}/rpc
\end{DoxyItemize}
\item Output, to interface with the robot, usual control board ports\+:
\begin{DoxyItemize}
\item /ctpservice/local/\{part\}/rpc\+:o
\item /ctpservice/local/\{part\}/state\+:i
\item /ctpservice/local/\{part\}/command\+:o
\end{DoxyItemize}
\item Output, to interface with the \mbox{\hyperlink{group__icub__velocityControl}{velocity\+Control}} module\+:
\begin{DoxyItemize}
\item /ctpservice/\{part\}/vc\+:o
\end{DoxyItemize}
\end{DoxyItemize}

Here \{part\} is replaced with the robot part (see --part parameter)

ctpservice is a default value that can be replaced with --name.

Incoming commands are the following\+:

\mbox{[}ctpn\mbox{]} \mbox{[}time\mbox{]} TIME(seconds) \mbox{[}off\mbox{]} j \mbox{[}pos\mbox{]} list

Execute command. Command will take TIME seconds, the list of position will be sent to the motors starting from offset j.

or

\mbox{[}ctpq\mbox{]} \mbox{[}time\mbox{]} TIME (seconds) \mbox{[}off\mbox{]} j \mbox{[}pos\mbox{]} list

Queue commands for execution. Command will take TIME seconds, the list of position will be sent to the motors starting from offset j

or

\mbox{[}ctpf\mbox{]} filename (in yarpdatadumper format)

Example\+: This requires 1 second movement of joints 5,6,7 to 10 10 10 respectively\+: \mbox{[}ctpn\mbox{]} \mbox{[}time\mbox{]} 1 \mbox{[}off\mbox{]} 5 \mbox{[}pos\mbox{]} (10 10 10)\hypertarget{group__tutorial__perceptiveModels_parameters_sec}{}\doxysubsection{Parameters}\label{group__tutorial__perceptiveModels_parameters_sec}
Run as\+:

ctp\+Service --robot robotname --part part \mbox{[}--name modulename\mbox{]} \mbox{[}--autochange\+\_\+control\+\_\+mode\+\_\+enable\mbox{]}

robot\+: name of robot (e.\+g. icub)

part\+: prefix for part name (e.\+g. right\+\_\+arm)

name\+: \mbox{[}optional\mbox{]} module name (used to form port names)

autochange\+\_\+control\+\_\+mode\+\_\+enable\+: \mbox{[}optional\mbox{]} sets the joints to position mode when trying to execute the command (default off)\hypertarget{group__tutorial__perceptiveModels_lib_sec}{}\doxysubsection{Libraries}\label{group__tutorial__perceptiveModels_lib_sec}

\begin{DoxyItemize}
\item YARP libraries.
\end{DoxyItemize}\hypertarget{group__tutorial__perceptiveModels_tested_os_sec}{}\doxysubsection{Tested OS}\label{group__tutorial__perceptiveModels_tested_os_sec}
Windows, Linux

Copyright (C) 2010 Robot\+Cub Consortium

Copy\+Policy\+: Released under the terms of the GNU GPL v2.\+0.

Author\+: Lorenzo Natale 