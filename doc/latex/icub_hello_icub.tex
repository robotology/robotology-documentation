\hypertarget{icub_python_simworld_control_sec_goal}{}\doxysection{Goal}\label{icub_python_simworld_control_sec_goal}
In this short tutorial we learn how to use CMake. We compile a simple test program that links all YARP libraries. This program is trivial and does not use the robot yet.

We assume you have\+:
\begin{DoxyItemize}
\item installed and compiled YARP
\item correctly set YARP\+\_\+\+DIR
\end{DoxyItemize}

First we need to prepare the main.\+cpp.

Open a text editor and type the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <cstdio>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <yarp/os/SystemClock.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{using namespace }std;}
\DoxyCodeLine{\textcolor{keyword}{using namespace }yarp::os;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} \mbox{\hyperlink{icub-main_2src_2core_2emotionInterface_2main_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    printf(\textcolor{stringliteral}{"{}Starting the application\(\backslash\)n"{}});}
\DoxyCodeLine{    \textcolor{keywordtype}{int} times=10;}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{while}(times-\/-\/)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}Hello iCub\(\backslash\)n"{}});}
\DoxyCodeLine{        SystemClock::delaySystem(0.5); \textcolor{comment}{//wait 0.5 seconds}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    printf(\textcolor{stringliteral}{"{}Goodbye!\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}


Save it to main.\+cpp.

This program will print the \char`\"{}\+Hello i\+Cub\char`\"{} message for some times, waiting 0.\+5 seconds at every iteration of the while loop.

Let\textquotesingle{}s see now how to compile this program.

Go back to your text editor and write the following file\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{project(HELLO\_ICUB)}
\DoxyCodeLine{}
\DoxyCodeLine{find\_package(YARP REQUIRED)}
\DoxyCodeLine{}
\DoxyCodeLine{add\_executable(hello \mbox{\hyperlink{icub-main_2src_2core_2emotionInterface_2main_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}.cpp)}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\# we now add the YARP libraries to our project.}}
\DoxyCodeLine{\textcolor{preprocessor}{target\_link\_libraries(hello \$\{YARP\_LIBRARIES\})}}

\end{DoxyCode}


Now save this file as CMake\+Lists.\+txt, in the same directory as your main.\+cpp file.

This code tells cmake to produce appropriate project files to compile an executable named hello, using the file main.\+cpp. It also links in yarp libraries.

Now run cmake\+: \begin{DoxyVerb}cmake ./
\end{DoxyVerb}


If cmake complains about not being able to localize YARP, it means that you have not followed correctly the procedure in the manual about the compilation of YARP. In particular, check that you have correctly set the environment veriables YARP\+\_\+\+DIR. It is also possible to manually set these values, but we do not recommend it.

Now you are ready to compile this example using your favorite compiler, and execute it.

In linux\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{make}
\DoxyCodeLine{./hello}

\end{DoxyCode}
 