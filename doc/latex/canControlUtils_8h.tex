\hypertarget{canControlUtils_8h}{}\doxysection{icub-\/main/src/libraries/icubmod/motion\+Control\+Lib/can\+Control\+Utils.h File Reference}
\label{canControlUtils_8h}\index{icub-\/main/src/libraries/icubmod/motionControlLib/canControlUtils.h@{icub-\/main/src/libraries/icubmod/motionControlLib/canControlUtils.h}}
{\ttfamily \#include $<$list$>$}\newline
{\ttfamily \#include \char`\"{}yarp/dev/\+Can\+Bus\+Interface.\+h\char`\"{}}\newline
Include dependency graph for can\+Control\+Utils.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{canControlUtils_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{canControlUtils_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structThreadId}{Thread\+Id}}
\item 
class \mbox{\hyperlink{classThreadFifo}{Thread\+Fifo}}
\item 
struct \mbox{\hyperlink{structCanRequest}{Can\+Request}}
\item 
class \mbox{\hyperlink{classRequestsQueue}{Requests\+Queue}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{canControlUtils_8h_a6a6fc113eb9bd6a5be6e43737403df92}{get\+Rcp}} (const yarp\+::dev\+::\+Can\+Message \&m)
\begin{DoxyCompactList}\small\item\em Extract least significative 4 bits, from the id of a can msg. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{canControlUtils_8h_ab1b7c20c98149177b4a08c9b8227ac6e}{get\+Sender}} (const yarp\+::dev\+::\+Can\+Message \&m)
\begin{DoxyCompactList}\small\item\em Extract most significative 4 bits of the least significative byte from the id of a can msg. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{canControlUtils_8h_ac9a0489744aa46905cbec820c68521f3}{get\+Class}} (const yarp\+::dev\+::\+Can\+Message \&m)
\begin{DoxyCompactList}\small\item\em Extract message class, three bit least significative of the first byte of the message ID. \end{DoxyCompactList}\item 
unsigned char \mbox{\hyperlink{canControlUtils_8h_a2cfa7be7be99fc84971df2b2d5e7c176}{get\+Message\+Type}} (const yarp\+::dev\+::\+Can\+Message \&m)
\begin{DoxyCompactList}\small\item\em Extract 7 lsb of first byte; this is the message type in our protocol. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{canControlUtils_8h_a22d86c76c1c95a75d3dc8f370f3fa5e5}{get\+Joint}} (const yarp\+::dev\+::\+Can\+Message \&m, const unsigned char $\ast$invM)
\begin{DoxyCompactList}\small\item\em Extract the joint number to which a RECEIVED message is referring to. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\long \mbox{\hyperlink{canControlUtils_8h_a336f9ab89d0ee944db5dbae2f3cfaab2}{get\+Rcp}} (const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&m)
\begin{DoxyCompactList}\small\item\em Extract least significative 4 bits, from the id of a can msg. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\long \mbox{\hyperlink{canControlUtils_8h_a255b08b5ba26e026c7d467b8886bf559}{get\+Sender}} (const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&m)
\begin{DoxyCompactList}\small\item\em Extract most significative 4 bits of the least significative byte from the id of a can msg. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\long \mbox{\hyperlink{canControlUtils_8h_a368223dccba0725d78eaa89263e52d4f}{get\+Class}} (const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&m)
\begin{DoxyCompactList}\small\item\em Extract message class, three bit least significative of the first byte of the message ID. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\unsigned char \mbox{\hyperlink{canControlUtils_8h_a3d7c176d39de95a0dd052ca2c037c738}{get\+Message\+Type}} (const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&m)
\begin{DoxyCompactList}\small\item\em Extract 7 lsb of first byte; this is the message type in our protocol. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\int \mbox{\hyperlink{canControlUtils_8h_a9b5dd8261008f3f2f5d2e43838733ec6}{get\+Joint}} (const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&m, const unsigned char $\ast$invM)
\begin{DoxyCompactList}\small\item\em Extract the joint number to which a RECEIVED message is referring to. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{canControlUtils_8h_aed353ce9c28af351b98138a0a3cee032}{DEBUG\+\_\+\+FUNC}} (const char $\ast$fmt,...)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const int \mbox{\hyperlink{canControlUtils_8h_a808da5f145544e5d3b379857e83d7e07}{DEBUG\+\_\+\+PRINTF\+\_\+\+BUFFER\+\_\+\+LENGTH}} =255
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{canControlUtils_8h_aed353ce9c28af351b98138a0a3cee032}\label{canControlUtils_8h_aed353ce9c28af351b98138a0a3cee032}} 
\index{canControlUtils.h@{canControlUtils.h}!DEBUG\_FUNC@{DEBUG\_FUNC}}
\index{DEBUG\_FUNC@{DEBUG\_FUNC}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{DEBUG\_FUNC()}{DEBUG\_FUNC()}}
{\footnotesize\ttfamily void DEBUG\+\_\+\+FUNC (\begin{DoxyParamCaption}\item[{const char $\ast$}]{fmt,  }\item[{}]{... }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 134 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a368223dccba0725d78eaa89263e52d4f}\label{canControlUtils_8h_a368223dccba0725d78eaa89263e52d4f}} 
\index{canControlUtils.h@{canControlUtils.h}!getClass@{getClass}}
\index{getClass@{getClass}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getClass()}{getClass()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T $>$ \\
long get\+Class (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&}]{m }\end{DoxyParamCaption})}



Extract message class, three bit least significative of the first byte of the message ID. 

Message id\+: 0000 0CCC SSSS RRRR 

Definition at line 105 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_ac9a0489744aa46905cbec820c68521f3}\label{canControlUtils_8h_ac9a0489744aa46905cbec820c68521f3}} 
\index{canControlUtils.h@{canControlUtils.h}!getClass@{getClass}}
\index{getClass@{getClass}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getClass()}{getClass()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int get\+Class (\begin{DoxyParamCaption}\item[{const yarp\+::dev\+::\+Can\+Message \&}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Extract message class, three bit least significative of the first byte of the message ID. 

Message id\+: 0000 0CCC SSSS RRRR 

Definition at line 52 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a9b5dd8261008f3f2f5d2e43838733ec6}\label{canControlUtils_8h_a9b5dd8261008f3f2f5d2e43838733ec6}} 
\index{canControlUtils.h@{canControlUtils.h}!getJoint@{getJoint}}
\index{getJoint@{getJoint}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getJoint()}{getJoint()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T $>$ \\
int get\+Joint (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&}]{m,  }\item[{const unsigned char $\ast$}]{invM }\end{DoxyParamCaption})}



Extract the joint number to which a RECEIVED message is referring to. 

This is the conversion message -\/$>$ joint (uses can id and first bit of first data byte in the can message) 

Definition at line 125 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a22d86c76c1c95a75d3dc8f370f3fa5e5}\label{canControlUtils_8h_a22d86c76c1c95a75d3dc8f370f3fa5e5}} 
\index{canControlUtils.h@{canControlUtils.h}!getJoint@{getJoint}}
\index{getJoint@{getJoint}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getJoint()}{getJoint()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int get\+Joint (\begin{DoxyParamCaption}\item[{const yarp\+::dev\+::\+Can\+Message \&}]{m,  }\item[{const unsigned char $\ast$}]{invM }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Extract the joint number to which a RECEIVED message is referring to. 

This is the conversion message -\/$>$ joint (uses can id and first bit of first data byte in the can message) 

Definition at line 70 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a3d7c176d39de95a0dd052ca2c037c738}\label{canControlUtils_8h_a3d7c176d39de95a0dd052ca2c037c738}} 
\index{canControlUtils.h@{canControlUtils.h}!getMessageType@{getMessageType}}
\index{getMessageType@{getMessageType}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getMessageType()}{getMessageType()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T $>$ \\
unsigned char get\+Message\+Type (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&}]{m }\end{DoxyParamCaption})}



Extract 7 lsb of first byte; this is the message type in our protocol. 



Definition at line 114 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a2cfa7be7be99fc84971df2b2d5e7c176}\label{canControlUtils_8h_a2cfa7be7be99fc84971df2b2d5e7c176}} 
\index{canControlUtils.h@{canControlUtils.h}!getMessageType@{getMessageType}}
\index{getMessageType@{getMessageType}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getMessageType()}{getMessageType()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily unsigned char get\+Message\+Type (\begin{DoxyParamCaption}\item[{const yarp\+::dev\+::\+Can\+Message \&}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Extract 7 lsb of first byte; this is the message type in our protocol. 



Definition at line 60 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a336f9ab89d0ee944db5dbae2f3cfaab2}\label{canControlUtils_8h_a336f9ab89d0ee944db5dbae2f3cfaab2}} 
\index{canControlUtils.h@{canControlUtils.h}!getRcp@{getRcp}}
\index{getRcp@{getRcp}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getRcp()}{getRcp()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T $>$ \\
long get\+Rcp (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&}]{m }\end{DoxyParamCaption})}



Extract least significative 4 bits, from the id of a can msg. 

In our protocol this is the recipient of a message. Message id\+: 0000 0XXX SSSS RRRR 

Definition at line 84 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a6a6fc113eb9bd6a5be6e43737403df92}\label{canControlUtils_8h_a6a6fc113eb9bd6a5be6e43737403df92}} 
\index{canControlUtils.h@{canControlUtils.h}!getRcp@{getRcp}}
\index{getRcp@{getRcp}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getRcp()}{getRcp()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int get\+Rcp (\begin{DoxyParamCaption}\item[{const yarp\+::dev\+::\+Can\+Message \&}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Extract least significative 4 bits, from the id of a can msg. 

In our protocol this is the recipient of a message. Message id\+: 0000 0XXX SSSS RRRR 

Definition at line 33 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_a255b08b5ba26e026c7d467b8886bf559}\label{canControlUtils_8h_a255b08b5ba26e026c7d467b8886bf559}} 
\index{canControlUtils.h@{canControlUtils.h}!getSender@{getSender}}
\index{getSender@{getSender}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getSender()}{getSender()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T $>$ \\
long get\+Sender (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{compute__ekf__sym_8m_adf1f3edb9115acb0a1e04209b7a9937b}{T}} \&}]{m }\end{DoxyParamCaption})}



Extract most significative 4 bits of the least significative byte from the id of a can msg. 

Message id\+: 0000 0XXX SSSS RRRR In our protocol this is the sender of a message 

Definition at line 95 of file can\+Control\+Utils.\+h.

\mbox{\Hypertarget{canControlUtils_8h_ab1b7c20c98149177b4a08c9b8227ac6e}\label{canControlUtils_8h_ab1b7c20c98149177b4a08c9b8227ac6e}} 
\index{canControlUtils.h@{canControlUtils.h}!getSender@{getSender}}
\index{getSender@{getSender}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{getSender()}{getSender()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int get\+Sender (\begin{DoxyParamCaption}\item[{const yarp\+::dev\+::\+Can\+Message \&}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Extract most significative 4 bits of the least significative byte from the id of a can msg. 

Message id\+: 0000 0XXX SSSS RRRR In our protocol this is the sender of a message 

Definition at line 43 of file can\+Control\+Utils.\+h.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{canControlUtils_8h_a808da5f145544e5d3b379857e83d7e07}\label{canControlUtils_8h_a808da5f145544e5d3b379857e83d7e07}} 
\index{canControlUtils.h@{canControlUtils.h}!DEBUG\_PRINTF\_BUFFER\_LENGTH@{DEBUG\_PRINTF\_BUFFER\_LENGTH}}
\index{DEBUG\_PRINTF\_BUFFER\_LENGTH@{DEBUG\_PRINTF\_BUFFER\_LENGTH}!canControlUtils.h@{canControlUtils.h}}
\doxysubsubsection{\texorpdfstring{DEBUG\_PRINTF\_BUFFER\_LENGTH}{DEBUG\_PRINTF\_BUFFER\_LENGTH}}
{\footnotesize\ttfamily const int DEBUG\+\_\+\+PRINTF\+\_\+\+BUFFER\+\_\+\+LENGTH =255}



Definition at line 132 of file can\+Control\+Utils.\+h.

