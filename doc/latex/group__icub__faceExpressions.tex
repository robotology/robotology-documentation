\hypertarget{group__icub__faceExpressions}{}\doxysection{face\+Expressions}
\label{group__icub__faceExpressions}\index{faceExpressions@{faceExpressions}}


Start the face expression.  


Collaboration diagram for face\+Expressions\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=289pt]{group__icub__faceExpressions}
\end{center}
\end{figure}
Start the face expression. 

\hypertarget{group__tutorial__perceptiveModels_intro_sec}{}\doxysubsection{Description}\label{group__tutorial__perceptiveModels_intro_sec}
Contains scripts to run the face expressions. At the moment only runs locally.\hypertarget{group__icub__robotscripting_dep_sec}{}\doxysubsection{Dependencies}\label{group__icub__robotscripting_dep_sec}
None.\hypertarget{group__icub__robotscripting_modules_sec}{}\doxysubsection{Instantiated Modules}\label{group__icub__robotscripting_modules_sec}

\begin{DoxyItemize}
\item emotion\+Interface
\item serial device through {\itshape yarpdev} 
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{./conf/emotions.ini: parameters passed to the emotionInterface module to run expressions \mbox{\hyperlink{show__eyes__axes_8m_a58ab1fd68e97078232808206b850161b}{on}} \textcolor{stringliteral}{"{}classic"{}} \mbox{\hyperlink{namespaceiCub}{iCub}}.}
\DoxyCodeLine{./conf/emotions\_rfe.ini: parameters passed to the emotionInterface module to run expressions \mbox{\hyperlink{show__eyes__axes_8m_a58ab1fd68e97078232808206b850161b}{on}} \mbox{\hyperlink{namespaceiCub}{iCub}} mounting the rfe \mbox{\hyperlink{debugFunctions_8cpp_a387aed6ca89cc24e456666d7df7c1fa0}{board}}.}
\DoxyCodeLine{./conf/serialport.ini: parameters passed to the serial device.}

\end{DoxyCode}
\hypertarget{group__icub__faceExpressions_howto_sec}{}\doxysubsection{How to run the Application}\label{group__icub__faceExpressions_howto_sec}
Run and execute through {\itshape yarpmanager} .

There are two applications\+:


\begin{DoxyItemize}
\item Face Expressions (face\+Expressions.\+xml). This can run out of the box, since it assumes you have a pc104 and a real \mbox{\hyperlink{namespaceiCub}{i\+Cub}}.
\item Face\+Sim (face\+Expressions\+Sim.\+xml). This is the equivalent application to be used with the \href{http://wiki.icub.org/wiki/Simulator_README\#FACE_EXPRESSIONS:}{\texttt{ robot simulator}}.
\end{DoxyItemize}

Now from any machine you can rpc to the port \char`\"{}/icub/face/emotions/in\char`\"{} and send high level commands. Be aware that some commands are only available on the latest robots mounting the RFE board.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{namespaceiCub_1_1skinManager_a5adb5e617574f80720487ad7d406954aa81f7c9d755853bec895ac199f19c6678}{help}}         to display \textcolor{keyword}{this} message}
\DoxyCodeLine{}
\DoxyCodeLine{set <part> <emotion>  set a specific emotion \textcolor{keywordflow}{for} a defined part}
\DoxyCodeLine{        the available parts are: mou, eli, leb, reb, all}
\DoxyCodeLine{        the available emotions are: neu, hap, sad, sur, ang, evi, shy, cun}
\DoxyCodeLine{}
\DoxyCodeLine{set col <color>     set the color of the led}
\DoxyCodeLine{        !! available only \textcolor{keywordflow}{for} rfe \mbox{\hyperlink{debugFunctions_8cpp_a387aed6ca89cc24e456666d7df7c1fa0}{board}} !!}
\DoxyCodeLine{        the available colors are: black, \mbox{\hyperlink{show__eyes__axes_8m_aaa95f0a2459456e9a759dfd81881ce87}{white}}, red, lime, blue, yellow, cyan, magenta, silver, gray, maroon, olive, green, purple, teal, navy}
\DoxyCodeLine{}
\DoxyCodeLine{set brig <brig>       set the brightness of the leds}
\DoxyCodeLine{        !! available only \textcolor{keywordflow}{for} rfe \mbox{\hyperlink{debugFunctions_8cpp_a387aed6ca89cc24e456666d7df7c1fa0}{board}} !!}
\DoxyCodeLine{        the brightness is defined by an integer from 0 to 5, where 0 means led off}
\DoxyCodeLine{}
\DoxyCodeLine{set mask (<col\_leb> <m\_name\_leb> <brig\_leb>) (<col\_reb> <m\_name\_reb> <brig\_reb>) (<col\_mou> <m\_name\_mou> <brig\_mou>) set color, bitmask and brightness \textcolor{keywordflow}{for each} part(leb, reb, mou)}
\DoxyCodeLine{        !! available only \textcolor{keywordflow}{for} rfe \mbox{\hyperlink{debugFunctions_8cpp_a387aed6ca89cc24e456666d7df7c1fa0}{board}} !!}
\DoxyCodeLine{        m\_name stands \textcolor{keywordflow}{for} mask name and the available bitmasks can be consulted/added in faceExpressions/emotions\_rfe.ini}

\end{DoxyCode}


In particular the bitmask supported are defined in the emotions\+\_\+rfe.\+ini file as follow\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{bitmask\_eyebrow\_emotions 4}
\DoxyCodeLine{BM\_EB0 (0 4 8 12 16)  \textcolor{comment}{//00011111h // surprised}}
\DoxyCodeLine{BM\_EB1 (1 5 9 13 17)  \textcolor{comment}{//00022222h // neutral, happy, shy}}
\DoxyCodeLine{BM\_EB2 (2 6 10 14 18) \textcolor{comment}{//00044444h // sad}}
\DoxyCodeLine{BM\_EB3 (3 7 11 15 19) \textcolor{comment}{//00044444h // angry}}
\DoxyCodeLine{}
\DoxyCodeLine{bitmask\_mouth\_emotions 5}
\DoxyCodeLine{BM\_M0  (6 9 10 18)                     \textcolor{comment}{//00020300h // neutral}}
\DoxyCodeLine{BM\_M1  (0 2 6 9 10 12 14 18)           \textcolor{comment}{//00045645h // happy, evil}}
\DoxyCodeLine{BM\_M2  (4 5 6 9 10 16 17 18)           \textcolor{comment}{//00070670h // sad}}
\DoxyCodeLine{BM\_M3  (1 2 3 5 7 8 11 13 14 15 17 19) \textcolor{comment}{//000AE9AEh // surprised}}
\DoxyCodeLine{BM\_M4  (4 5 6 9 10 16 17 18)           \textcolor{comment}{//00070670h // angry}}

\end{DoxyCode}


For example (6 9 10 18) means specify which that led 6, 9, 10 and 18 has to be set to on of that specific segment. The LEDs on the \mbox{\hyperlink{namespaceiCub}{i\+Cub}} face mounting the rfe board are arranged as follow\+: \begin{DoxyWarning}{Warning}
Note that the enumeration is 1-\/based in the image but the bitmasks are 0-\/based
\end{DoxyWarning}
\hypertarget{group__icub__faceExpressions_example_sec}{}\doxysubsection{Example Instantiation of the Module}\label{group__icub__faceExpressions_example_sec}
Alternatively, you can run the following bash scripts\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./cycle.sh: demonstates the face expressions, cycle randomly through a set of expressions.}
\DoxyCodeLine{./exampleTransition.sh: demonstrate color/brightness transitions supported by the rfe \mbox{\hyperlink{debugFunctions_8cpp_a387aed6ca89cc24e456666d7df7c1fa0}{board}}.}

\end{DoxyCode}


\begin{DoxyAuthor}{Author}
Lorenzo Natale, Alex Bernardino and Nicol√≤ Genesio
\end{DoxyAuthor}
Copyright (C) 2008 Robot\+Cub Consortium

Copy\+Policy\+: Released under the terms of the GNU GPL v2.\+0.

This file can be edited at \mbox{\hyperlink{icub-main_2app_2faceExpressions_2doc_8dox}{app/face\+Expressions/doc.\+dox}}