The device\textquotesingle{}s purpose is to make it possible to connect up to {\ttfamily 4 FT} sensors to a single EMS board.\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md16}{}\doxysection{1.\+1. Prereqisite}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md16}
The following modules should be included in the compilation process\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{ENABLE\_icubmod\_canBusAnalogSen   ON}
\DoxyCodeLine{ENABLE\_icubmod\_embObjMultipleF   ON}

\end{DoxyCode}
\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md17}{}\doxysection{2. XML configuration file}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md17}
This device should be used with an XML like the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<?\textcolor{keyword}{xml} \textcolor{keyword}{version}=\textcolor{stringliteral}{"{}1.0"{}} \textcolor{keyword}{encoding}=\textcolor{stringliteral}{"{}UTF-\/8"{}}?>}
\DoxyCodeLine{<!\textcolor{keyword}{DOCTYPE} \textcolor{keyword}{devices} \textcolor{keyword}{PUBLIC} \textcolor{stringliteral}{"{}-\///YARP//DTD yarprobotinterface 3.0//EN"{}} \textcolor{stringliteral}{"{}http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd"{}}>}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{<\textcolor{keywordtype}{device} \textcolor{keyword}{xmlns:xi}=\textcolor{stringliteral}{"{}http://www.w3.org/2001/XInclude"{}} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}eb1-\/j0-\/strain2-\/multi"{}} \textcolor{keyword}{type}=\textcolor{stringliteral}{"{}embObjMultipleFTsensors"{}}>}
\DoxyCodeLine{}
\DoxyCodeLine{    <\textcolor{keywordtype}{xi:include} \textcolor{keyword}{href}=\textcolor{stringliteral}{"{}../../general.xml"{}} />}
\DoxyCodeLine{}
\DoxyCodeLine{    <\textcolor{keywordtype}{xi:include} \textcolor{keyword}{href}=\textcolor{stringliteral}{"{}../../hardware/electronics/eb1-\/j0-\/eln.xml"{}} />}
\DoxyCodeLine{}
\DoxyCodeLine{    <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}SERVICE"{}}>}
\DoxyCodeLine{        }
\DoxyCodeLine{        <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}type"{}}> \textcolor{keyword}{eomn\_serv\_AS\_ft} </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{}
\DoxyCodeLine{        <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}PROPERTIES"{}}>}
\DoxyCodeLine{}
\DoxyCodeLine{            \textcolor{comment}{öXG¸+V}}
\DoxyCodeLine{\textcolor{comment}{JFG¸+V}}
\DoxyCodeLine{\textcolor{comment}{                use eoas\_ft\_isboardvalid() to verify -\/-\/>}}
\DoxyCodeLine{            <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}CANBOARDS"{}}>}
\DoxyCodeLine{                <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}type"{}}>                 \textcolor{keyword}{strain2}     \textcolor{keyword}{strain}      </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{}
\DoxyCodeLine{                <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}PROTOCOL"{}}>}
\DoxyCodeLine{                    <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}major"{}}>            2           1           </\textcolor{keywordtype}{param}>    }
\DoxyCodeLine{                    <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}minor"{}}>            0           0           </\textcolor{keywordtype}{param}>     }
\DoxyCodeLine{                </\textcolor{keywordtype}{group}>                    }
\DoxyCodeLine{                <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}FIRMWARE"{}}>}
\DoxyCodeLine{                    <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}major"{}}>            2           1           </\textcolor{keywordtype}{param}>    }
\DoxyCodeLine{                    <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}minor"{}}>            0           1           </\textcolor{keywordtype}{param}> }
\DoxyCodeLine{                    <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}build"{}}>            9           3           </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{                </\textcolor{keywordtype}{group}>}
\DoxyCodeLine{            </\textcolor{keywordtype}{group}>}
\DoxyCodeLine{            }
\DoxyCodeLine{            \textcolor{comment}{<!-\/-\/ we can have as many sensors as we want. however ... -\/-\/>}}
\DoxyCodeLine{            <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}SENSORS"{}}>}
\DoxyCodeLine{                <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}id"{}}>                   \textcolor{keyword}{l\_foot\_ft1}      \textcolor{keyword}{l\_foot\_ft2}      \textcolor{keyword}{l\_foot\_ft3}  </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{                <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}board"{}}>                \textcolor{keyword}{strain2}         \textcolor{keyword}{strain2}         \textcolor{keyword}{strain}      </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{                <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}location"{}}>             \textcolor{keyword}{CAN2:13}         \textcolor{keyword}{CAN1:12}         \textcolor{keyword}{CAN2:11}     </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{            </\textcolor{keywordtype}{group}>                }
\DoxyCodeLine{        }
\DoxyCodeLine{        </\textcolor{keywordtype}{group}>}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{JFG¸+V}}
\DoxyCodeLine{\textcolor{comment}{ FG¸+V}}
\DoxyCodeLine{\textcolor{comment}{JFG¸+V}}
\DoxyCodeLine{\textcolor{comment}{ FG¸+V}}
\DoxyCodeLine{\textcolor{comment}{›\(\backslash\)G¸+V}}
\DoxyCodeLine{\textcolor{comment}{            -\/-\/>}}
\DoxyCodeLine{        <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}SETTINGS"{}}>        }
\DoxyCodeLine{            <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}enabledSensors"{}}>       \textcolor{keyword}{l\_foot\_ft1}  \textcolor{keyword}{l\_foot\_ft2}  \textcolor{keyword}{l\_foot\_ft3}      </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{            <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}ftPeriod"{}}>             10          10          10              </\textcolor{keywordtype}{param}> \textcolor{comment}{<!-\/-\/ ms -\/-\/>}}
\DoxyCodeLine{            <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}temperaturePeriod"{}}>    1000        1000        0               </\textcolor{keywordtype}{param}> \textcolor{comment}{<!-\/-\/ ms -\/-\/>}}
\DoxyCodeLine{            <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}useCalibration"{}}>       \textcolor{keyword}{true}        \textcolor{keyword}{false}       \textcolor{keyword}{true}            </\textcolor{keywordtype}{param}>           }
\DoxyCodeLine{        </\textcolor{keywordtype}{group}>       }
\DoxyCodeLine{    }
\DoxyCodeLine{        <\textcolor{keywordtype}{group} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}CANMONITOR"{}}>        }
\DoxyCodeLine{            <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}checkPeriod"{}}>      100     </\textcolor{keywordtype}{param}>  \textcolor{comment}{<!-\/-\/ ms -\/-\/>}}
\DoxyCodeLine{            <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}reportMode"{}}>       \textcolor{keyword}{ALL}     </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{            <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}ratePeriod"{}}>       20000   </\textcolor{keywordtype}{param}>  \textcolor{comment}{<!-\/-\/ ms -\/-\/>}}
\DoxyCodeLine{        </\textcolor{keywordtype}{group}>    }
\DoxyCodeLine{    </\textcolor{keywordtype}{group}>}
\DoxyCodeLine{</\textcolor{keywordtype}{device}>}

\end{DoxyCode}
 And the wrapper\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<?\textcolor{keyword}{xml} \textcolor{keyword}{version}=\textcolor{stringliteral}{"{}1.0"{}} \textcolor{keyword}{encoding}=\textcolor{stringliteral}{"{}UTF-\/8"{}}?>}
\DoxyCodeLine{<!\textcolor{keyword}{DOCTYPE} \textcolor{keyword}{devices} \textcolor{keyword}{PUBLIC} \textcolor{stringliteral}{"{}-\///YARP//DTD yarprobotinterface 3.0//EN"{}} \textcolor{stringliteral}{"{}http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd"{}}>}
\DoxyCodeLine{}
\DoxyCodeLine{<\textcolor{keywordtype}{device} \textcolor{keyword}{xmlns:xi}=\textcolor{stringliteral}{"{}http://www.w3.org/2001/XInclude"{}} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}testFT\_wrapper"{}} \textcolor{keyword}{type}=\textcolor{stringliteral}{"{}multipleanalogsensorsserver"{}}>}
\DoxyCodeLine{    <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}period"{}}>      10                           </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{    <\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}name"{}}>       /\textcolor{keyword}{testFT}/\textcolor{keyword}{ADCs}      </\textcolor{keywordtype}{param}>}
\DoxyCodeLine{}
\DoxyCodeLine{    <\textcolor{keywordtype}{action} \textcolor{keyword}{phase}=\textcolor{stringliteral}{"{}startup"{}} \textcolor{keyword}{level}=\textcolor{stringliteral}{"{}5"{}} \textcolor{keyword}{type}=\textcolor{stringliteral}{"{}attach"{}}>}
\DoxyCodeLine{        <\textcolor{keywordtype}{paramlist} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}networks"{}}>}
\DoxyCodeLine{            \textcolor{comment}{<!-\/-\/ The param value must match the device name in the corresponding body\_part-\/ebX-\/jA\_B-\/strain.xml file -\/-\/>}}
\DoxyCodeLine{            <\textcolor{keywordtype}{elem} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}FirstStrain"{}}> \textcolor{keyword}{eb1-\/j0-\/strain2-\/multi} </\textcolor{keywordtype}{elem}>}
\DoxyCodeLine{        </\textcolor{keywordtype}{paramlist}>}
\DoxyCodeLine{    </\textcolor{keywordtype}{action}>}
\DoxyCodeLine{}
\DoxyCodeLine{    <\textcolor{keywordtype}{action} \textcolor{keyword}{phase}=\textcolor{stringliteral}{"{}shutdown"{}} \textcolor{keyword}{level}=\textcolor{stringliteral}{"{}5"{}} \textcolor{keyword}{type}=\textcolor{stringliteral}{"{}detach"{}} />}
\DoxyCodeLine{</\textcolor{keywordtype}{device}>}

\end{DoxyCode}


‚ÑπÔ∏è {\ttfamily Note that all the time values are expressed in milliseconds.}\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md18}{}\doxysubsection{2.\+1. Raw ADC data or FT data}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md18}
To log raw data directly from ADC output use the param with the name {\ttfamily use\+Calibration}


\begin{DoxyCode}{0}
\DoxyCodeLine{<\textcolor{keywordtype}{param} \textcolor{keyword}{name}=\textcolor{stringliteral}{"{}useCalibration"{}}>       \textcolor{keyword}{true}        \textcolor{keyword}{false}       \textcolor{keyword}{true}            </\textcolor{keywordtype}{param}>           }

\end{DoxyCode}


if {\ttfamily false} raw data are logged from the correspondent sensor.\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md19}{}\doxysection{3. Yarp output}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md19}
\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md20}{}\doxysubsection{3.\+1. Ports}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md20}
As for the wrapper file.

All sensors are logged on the same port. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{/<robot\_name>/ADCs/measures:o }
\DoxyCodeLine{/<robot\_name>/ADCs/rpc:o}

\end{DoxyCode}
\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md21}{}\doxysubsection{3.\+2. Output format}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md21}
Output example for one sensor\+: ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{1277 1648477185.597940 () () () () (((32.0) 3062439114.0)) (((30.0 30.0 60.0 -\/15.0 -\/14.0 -\/13.0) 3062439114.0))()()()()()  }

\end{DoxyCode}


3062439114.\+0 {\bfseries{is the board timestamp}} ~\newline
 (32.\+0) {\bfseries{is the temperature}} ~\newline
 (30.\+0 30.\+0 60.\+0 -\/15.\+0 -\/14.\+0 -\/13.\+0) {\bfseries{are the FT data}} ~\newline


For two sensors\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{4714 1648546986.847330 () () () () (((31.0) 8627844988.0) ((33.0) 8627845987.0)) (((30.0 0.0 -\/60.0 -\/1.0 -\/1.0 -\/1.0) 8627844988.0) ((0.256134033203125 0.66009521484375 -\/3.583465576171875 0.0064697265625 0.067291259765625 -\/0.043487548828125) 8627845987.0)) () () () ()}

\end{DoxyCode}
 8627844988.\+0 {\bfseries{is the board timestamp for first sensor}} ~\newline
 (31.\+0) {\bfseries{is the temperature first sensor}} ~\newline
 (30.\+0 0.\+0 -\/60.\+0 -\/1.\+0 -\/1.\+0 -\/1.\+0) {\bfseries{are the FT data first sensor}} ~\newline


8627845987.\+0 {\bfseries{is the board timestamp for second sensor}} ~\newline
 (33.\+0) {\bfseries{is the temperature second sensor}} ~\newline
 (0.\+256134033203125 0.\+66009521484375 -\/3.\+583465576171875 0.\+0064697265625 0.\+067291259765625 -\/0.\+043487548828125) 8627845987.\+0) {\bfseries{are the FT data second sensor}} ~\newline
\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md22}{}\doxysection{4. Debug}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md22}
\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md23}{}\doxysubsection{4.\+1. Install folder}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md23}
If you have already installed robotology-\/superbuild and you have cloned icub-\/main (and you are working here) overwrite robotology-\/superbuild binary like this in your icub-\/main\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{CMAKE\_INSTALL\_PREFIX             <path\_to\_robotology>/robotology-\/superbuild/build/install}

\end{DoxyCode}
\hypertarget{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md24}{}\doxysubsection{4.\+2. Visual studio code debugging}\label{md_icub_main_src_libraries_icubmod_embObjMultipleFTsensors_README_autotoc_md24}
Use the following launch.\+json 
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{    "{}name"{}: "{}App debug multiple ft sensor"{},}
\DoxyCodeLine{    "{}type"{}: "{}cppdbg"{},}
\DoxyCodeLine{    "{}request"{}: "{}launch"{},}
\DoxyCodeLine{    "{}program"{}: "{}<absolute path to your robotology>/robotology-\/superbuild/build/install/bin/yarprobotinterface"{},}
\DoxyCodeLine{    "{}args"{}: [],}
\DoxyCodeLine{    "{}stopAtEntry"{}: false,}
\DoxyCodeLine{    "{}cwd"{}: "{}<absolute path to your config files>/yarprobotinterface-\/config-\/multiple"{},}
\DoxyCodeLine{    "{}environment"{}: [],}
\DoxyCodeLine{    "{}externalConsole"{}: false,}
\DoxyCodeLine{    "{}MIMode"{}: "{}gdb"{},}
\DoxyCodeLine{    "{}setupCommands"{}: [}
\DoxyCodeLine{        \{}
\DoxyCodeLine{            "{}description"{}: "{}Enable pretty-\/printing for gdb"{},}
\DoxyCodeLine{            "{}text"{}: "{}-\/enable-\/pretty-\/printing"{},}
\DoxyCodeLine{            "{}ignoreFailures"{}: true}
\DoxyCodeLine{        \},}
\DoxyCodeLine{        \{}
\DoxyCodeLine{            "{}description"{}: "{}Set Disassembly Flavor to Intel"{},}
\DoxyCodeLine{            "{}text"{}: "{}-\/gdb-\/set disassembly-\/flavor intel"{},}
\DoxyCodeLine{            "{}ignoreFailures"{}: true}
\DoxyCodeLine{        \}}
\DoxyCodeLine{    ],}
\DoxyCodeLine{    "{}miDebuggerPath"{}: "{}/usr/bin/gdb"{},}
\DoxyCodeLine{\}}

\end{DoxyCode}
 