<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iCub-main: camCalib</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iCub-main
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">camCalib<div class="ingroups"><a class="el" href="group__icub__modules__all.html">Software</a> &raquo; <a class="el" href="group__icub__module.html">iCub modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classCamera.html">Camera</a> image calibration module.  
</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for camCalib:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__icub__camCalib.png" border="0" usemap="#agroup____icub____camCalib" alt=""/></div>
<map name="agroup____icub____camCalib" id="agroup____icub____camCalib">
<area shape="rect" title="Camera image calibration module." alt="" coords="164,5,247,31"/>
<area shape="rect" href="group__icub__module.html" title="This is the list of iCub modules, i.e." alt="" coords="5,5,116,31"/>
</map>
</div>
<p><a class="el" href="classCamera.html">Camera</a> image calibration module. </p>
<div class="dotgraph">
</div>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<p>YARP OpenCV (version &gt;= 2.0) spmap (icub library)</p>
<p>We have enabled changes of the image saturation directly from the rpc port (see port description). This has been done (temporary) in order to change the saturation for the bayer images. The command are sent via rpc can be:</p>
<ul>
<li>sat 1.0 - no changes in saturation</li>
<li>sat x where x is &lt; 1.0 - will decrease saturation until a gray image is obtained</li>
<li>sat x where x is &gt; 1.0 - will increase saturation</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p>Command-line Parameters</p>
<p>The following key-value pairs can be specified as command-line parameters by prefixing <code>&ndash;</code> to the key (e.g. <code>&ndash;from</code> file.ini. The value part can be changed to suit your needs; the default values are shown below.</p>
<ul>
<li><code>&ndash;from</code> <code>camcalib.ini</code> <br  />
 specifies the configuration file</li>
<li><code>&ndash;context</code> <code>cameraCalibration</code> <br  />
 specifies the sub-path from <code>$ICUB_ROOT/icub/app</code> to the configuration file</li>
<li><code>&ndash;name</code> <code>camcalib</code> <br  />
 specifies the name of the module (used to form the stem of module port names) <br  />
 For calibration configuration options see: <a class="el" href="classPinholeCalibTool.html#a72aeb98162dfcac36892bcc8bfa038e4" title="The PinholeCalibTool expects a configuration file as show below.">PinholeCalibTool::configure</a></li>
</ul>
<p>Configuration File Parameters</p>
<p>The following key-value pairs can be specified as parameters in the configuration file The value part can be changed to suit your needs; the default values are shown below.</p>
<pre>
projection pinhole
drawCenterCross 1
w  320
h  240
fx 221.607
fy 221.689
cx 174.29
cy 130.528
k1 -0.397161
k2 0.180303
p1 4.08465e-005
p2 0.000456613

</pre> <h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<p>Input port</p>
<ul>
<li><code>/camCalib/in</code> <br  />
 Input image to calibrate (from camera grabber) (rgb)</li>
</ul>
<p>Output port</p>
<ul>
<li><code>/camCalib/out</code> <br  />
 Calibrated output image (rgb)</li>
</ul>
<p>Rpc port</p>
<ul>
<li><code>/camCalib/conf</code> <br  />
 Rpc port to change the output image saturation used primarely for the bayer images</li>
</ul>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p><code>camcalib.ini</code> in <code>$ICUB_ROOT/app/cameraCalibration</code> <br  />
 </p>
<h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<p>Linux: Ubuntu 9.10, Debian Stable, squeeze and windows</p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Module</h1>
<p><code>camCalib &ndash;name /icub/camcalib/left &ndash;context cameraCalibration &ndash;from icubEyes.ini &ndash;group CAMERA_CALIBRATION_LEFT</code></p>
<p>More information on camera calibration:<br  />
OpenCV: <a href="http://opencvlibrary.sourceforge.net/CvReference#cv_3d">http://opencvlibrary.sourceforge.net/CvReference#cv_3d</a><br  />
Matlab Toolbox: <a href="http://www.vision.caltech.edu/bouguetj/calib_doc/">http://www.vision.caltech.edu/bouguetj/calib_doc/</a><br  />
 </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classCamCalibModule.html" title="Camera Calibration Module class.">CamCalibModule</a> </dd>
<dd>
CalibTool</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Lijin Aryananda, Jonas Ruesch</dd></dl>
<div class="dotgraph">
</div>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<p>YARP OpenCV (version &gt;= 2.0) spmap (icub library)</p>
<p>We have enabled changes of the image saturation directly from the rpc port (see port description). This has been done (temporary) in order to change the saturation for the bayer images. The command are sent via rpc can be:</p>
<ul>
<li>sat 1.0 - no changes in saturation</li>
<li>sat x where x is &lt; 1.0 - will decrease saturation until a gray image is obtained</li>
<li>sat x where x is &gt; 1.0 - will increase saturation</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p>Command-line Parameters</p>
<p>The following key-value pairs can be specified as command-line parameters by prefixing <code>&ndash;</code> to the key (e.g. <code>&ndash;from</code> file.ini. The value part can be changed to suit your needs; the default values are shown below.</p>
<ul>
<li><code>&ndash;from</code> <code>camcalib.ini</code> <br  />
 specifies the configuration file</li>
<li><code>&ndash;context</code> <code>cameraCalibration</code> <br  />
 specifies the sub-path from <code>$ICUB_ROOT/icub/app</code> to the configuration file</li>
<li><code>&ndash;name</code> <code>camcalib</code> <br  />
 specifies the name of the module (used to form the stem of module port names) For calibration configuration options see: <a class="el" href="classPinholeCalibTool.html#a72aeb98162dfcac36892bcc8bfa038e4" title="The PinholeCalibTool expects a configuration file as show below.">PinholeCalibTool::configure</a></li>
</ul>
<p>Configuration File Parameters</p>
<p>The following key-value pairs can be specified as parameters in the configuration file The value part can be changed to suit your needs; the default values are shown below.</p>
<pre>
projection pinhole
drawCenterCross 1
w  320
h  240
fx 221.607
fy 221.689
cx 174.29
cy 130.528
k1 -0.397161
k2 0.180303
p1 4.08465e-005
p2 0.000456613

</pre> <h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<p>Input port</p>
<ul>
<li><code>/camCalib/in</code> <br  />
 Input image to calibrate (from camera grabber) (rgb)</li>
</ul>
<p>Output port</p>
<ul>
<li><code>/camCalib/out</code> <br  />
 Calibrated output image (rgb)</li>
</ul>
<p>Rpc port</p>
<ul>
<li><code>/camCalib/conf</code> <br  />
 Rpc port to change the output image saturation used primarely for the bayer images</li>
</ul>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p><code>camcalib.ini</code> in <code>$ICUB_ROOT/app/cameraCalibration</code> <br  />
 </p>
<h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<p>Linux: Ubuntu 9.10, Debian Stable, squeeze and windows</p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Module</h1>
<p><code>camCalib &ndash;name /icub/camcalib/left &ndash;context cameraCalibration &ndash;from icubEyes.ini &ndash;group CAMERA_CALIBRATION_LEFT</code></p>
<p>More information on camera calibration:<br  />
OpenCV: <a href="http://opencvlibrary.sourceforge.net/CvReference#cv_3d">http://opencvlibrary.sourceforge.net/CvReference#cv_3d</a><br  />
Matlab Toolbox: <a href="http://www.vision.caltech.edu/bouguetj/calib_doc/">http://www.vision.caltech.edu/bouguetj/calib_doc/</a><br  />
 </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classCamCalibModule.html" title="Camera Calibration Module class.">CamCalibModule</a> </dd>
<dd>
CalibTool</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Lijin Aryananda, Jonas Ruesch </dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 26 2024 16:02:19 for iCub-main by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
