<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iCub-main: iDynInv</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iCub-main
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">iDynInv<div class="ingroups"><a class="el" href="group__icub__modules__all.html">Software</a> &raquo; <a class="el" href="group__icub__libraries.html">Libraries</a> &raquo; <a class="el" href="group__iDyn.html">iDyn</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Classes for force/torque computation in a dynamic chain, where a single FT sensor is placed.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for iDynInv:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__iDynInv.png" border="0" usemap="#agroup____iDynInv" alt=""/></div>
<map name="agroup____iDynInv" id="agroup____iDynInv">
<area shape="rect" title="Classes for force/torque computation in a dynamic chain, where a single FT sensor is placed." alt="" coords="105,5,177,31"/>
<area shape="rect" href="group__iDyn.html" title="Classes for forward&#45;inverse kinematics and dynamics of serial&#45;links chains of revolute joints and iCu..." alt="" coords="5,5,57,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensor.html">iCub::iDyn::iDynInvSensor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing force/moment of a sensor placed anywhere in a kinematic chain; its position in the chain is defined wrt a certain link in the chain; this class can be useful to estimate the FT measurements of the sensor.  <a href="classiCub_1_1iDyn_1_1iDynInvSensor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensorArm.html">iCub::iDyn::iDynInvSensorArm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing force/moment of the FT sensor placed in the middle of the <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a>'s left or right arm.  <a href="classiCub_1_1iDyn_1_1iDynInvSensorArm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensorArmNoTorso.html">iCub::iDyn::iDynInvSensorArmNoTorso</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing force/moment of the FT sensor placed in the middle of the <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a>'s left or right arm.  <a href="classiCub_1_1iDyn_1_1iDynInvSensorArmNoTorso.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensorLeg.html">iCub::iDyn::iDynInvSensorLeg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing force/moment of the FT sensor placed in the middle of the <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a>'s left or right leg.  <a href="classiCub_1_1iDyn_1_1iDynInvSensorLeg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynSensor.html">iCub::iDyn::iDynSensor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing forces and torques in a <a class="el" href="classiCub_1_1iDyn_1_1iDynChain.html" title="A Base class for defining a Serial Link Chain, using dynamics and kinematics.">iDynChain</a>, when a force/torque sensor is placed in the middle of the kinematic chain and it is the only available sensor for measuring forces and moments; the sensor position in the chain must be set; the computation of joint forces, moments and torques is performed by an Inverse Newton-Euler method.  <a href="classiCub_1_1iDyn_1_1iDynSensor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynSensorArm.html">iCub::iDyn::iDynSensorArm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing joint force/moment/torque of an <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a> arm (left/right) given the FT measurements of the sensor placed in the middle of the arm.  <a href="classiCub_1_1iDyn_1_1iDynSensorArm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynSensorArmNoTorso.html">iCub::iDyn::iDynSensorArmNoTorso</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing joint force/moment/torque of an <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a> arm (left/right) given the FT measurements of the sensor placed in the middle of the arm.  <a href="classiCub_1_1iDyn_1_1iDynSensorArmNoTorso.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiCub_1_1iDyn_1_1iDynSensorLeg.html">iCub::iDyn::iDynSensorLeg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for computing joint force/moment/torque of an <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a> leg (left/right) given the FT measurements of the sensor placed in the middle of the leg.  <a href="classiCub_1_1iDyn_1_1iDynSensorLeg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Classes for force/torque computation in a dynamic chain, where a single FT sensor is placed. </p>
<p>Using Newton-Euler formula it is possible to compute an estimate of the FT sensor measurements. <a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensor.html" title="A class for computing force/moment of a sensor placed anywhere in a kinematic chain; its position in ...">iDynInvSensor</a> is the generic class which takes a <a class="el" href="classiCub_1_1iDyn_1_1iDynChain.html" title="A Base class for defining a Serial Link Chain, using dynamics and kinematics.">iDynChain</a>, sets a generic sensor attached to the chain, and manages the proper computations. <a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensorArm.html" title="A class for computing force/moment of the FT sensor placed in the middle of the iCub&#39;s left or right ...">iDynInvSensorArm</a> and <a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensorLeg.html" title="A class for computing force/moment of the FT sensor placed in the middle of the iCub&#39;s left or right ...">iDynInvSensorLeg</a> are specific classes performing computations for <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a> arms and legs: by choosing left/right part, they automatically set the proper FT sensor parameters. Given single FT sensor measurements it is also possible to compute link/joint force/moment/torque. As <a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensor.html" title="A class for computing force/moment of a sensor placed anywhere in a kinematic chain; its position in ...">iDynInvSensor</a>, <a class="el" href="classiCub_1_1iDyn_1_1iDynSensor.html" title="A class for computing forces and torques in a iDynChain, when a force/torque sensor is placed in the ...">iDynSensor</a> attachs a FT sensor into a <a class="el" href="classiCub_1_1iDyn_1_1iDynChain.html" title="A Base class for defining a Serial Link Chain, using dynamics and kinematics.">iDynChain</a>; exploiting the sensor force/moment measurements, and applying the inverse formula of Newton-Euler recursive algorithm, it is possible to compute joint torques given single FT measurements. The dynamical parameters necessary to the algorithm are read automatically from the <a class="el" href="classiCub_1_1iDyn_1_1iDynChain.html" title="A Base class for defining a Serial Link Chain, using dynamics and kinematics.">iDynChain</a> (consisting of iDynLinks), whereas the FT sensor must be set from <a class="el" href="classiCub_1_1iDyn_1_1iDynSensor.html" title="A class for computing forces and torques in a iDynChain, when a force/torque sensor is placed in the ...">iDynSensor</a> constructor.</p>
<h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<p>Windows</p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Module</h1>
<p>Set a <a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensor.html" title="A class for computing force/moment of a sensor placed anywhere in a kinematic chain; its position in ...">iDynInvSensor</a> for <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a>'s left arm, with force/moment computation in the static case (STATIC), and verbose (VERBOSE==1) output:</p>
<p><code> <a class="el" href="classiCub_1_1iDyn_1_1iCubArmDyn.html" title="A class for defining the 7-DOF iCub Arm in the iDyn framework.">iCubArmDyn</a> *arm = new <a class="el" href="classiCub_1_1iDyn_1_1iCubArmDyn.html" title="A class for defining the 7-DOF iCub Arm in the iDyn framework.">iCubArmDyn</a>("left"); </code> <br  />
<code> <a class="el" href="classiCub_1_1iDyn_1_1iDynInvSensorArm.html" title="A class for computing force/moment of the FT sensor placed in the middle of the iCub&#39;s left or right ...">iDynInvSensorArm</a> armWSensorSolver = new iDynInvSensorArm(arm,STATIC,VERBOSE); </code> <br  />
 Note that by setting the arm as "left", the sensor is automatically set as the left sensor of the arm. Then start retrieving the sensor force/moment. First the chain must be updated with the current angle configuration:</p>
<p><code> arm-&gt;setAng(q); </code> <br  />
<code> arm-&gt;setDAng(dq); </code> <br  />
<code> arm-&gt;setD2Ang(ddq); </code> <br  />
 Then the arm dynamics must be solved, in order to find each links' force/moment, etc:</p>
<p><code> arm-&gt;computeNewtonEuler(w0,dw0,d2p0,Fend,Mend); </code> <br  />
 Finally we can compute the sensor force and moment, attaching the sensor to its link (whose force/moment have been previously computed):</p>
<p><code> armWSensorSolver-&gt;computeSensorForceMoment(); </code> <br  />
 The sensor force/moment can be retrieved separately (3x1 vectors) or together (6x1 vector).</p>
<p><code> Vector F = armWSensorSolver-&gt;getSensorForce(); </code> <br  />
<code> Vector Mu = armWSensorSolver-&gt;getSensorMoment(); </code> <br  />
<code> Vector FMu = armWSensorSolver-&gt;getSensorForceMoment(); </code> <br  />
</p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Module</h1>
<p>Set a <a class="el" href="classiCub_1_1iDyn_1_1iDynSensor.html" title="A class for computing forces and torques in a iDynChain, when a force/torque sensor is placed in the ...">iDynSensor</a> for <a class="el" href="namespaceiCub.html" title="This file contains the definition of unique IDs for the body parts and the skin parts of the robot.">iCub</a>'s left arm, with force/moment computation in the static case (STATIC), and verbose (VERBOSE==1) output:</p>
<p><code> <a class="el" href="classiCub_1_1iDyn_1_1iCubArmDyn.html" title="A class for defining the 7-DOF iCub Arm in the iDyn framework.">iCubArmDyn</a> *arm = new <a class="el" href="classiCub_1_1iDyn_1_1iCubArmDyn.html" title="A class for defining the 7-DOF iCub Arm in the iDyn framework.">iCubArmDyn</a>("left"); </code> <br  />
<code> <a class="el" href="classiCub_1_1iDyn_1_1iDynSensorArm.html" title="A class for computing joint force/moment/torque of an iCub arm (left/right) given the FT measurements...">iDynSensorArm</a> armWSensorSolver = new iDynSensorArm(arm,STATIC,VERBOSE); </code> <br  />
 Note that by setting the arm as "left", the sensor is automatically set as the left sensor of the arm. The chain must be updated with the current angle configuration, and the sensor measurements must be put into two (3x1) vectors or one (6x1).</p>
<p><code> arm-&gt;setAng(q); </code> <br  />
<code> Vector FM = measureFromSensor();</code> <br  />
<code> Vector F = measureForceFromSensor();</code> <br  />
<code> Vector M = measureMomentFromSensor();</code> <br  />
 In both cases, we can give the compute method our measurements:</p>
<p><code> armWSensorSolver-&gt;computeFromSensorNewtonEuler(FM); </code> <br  />
<code> armWSensorSolver-&gt;computeFromSensorNewtonEuler(F,M); </code> <br  />
 The arm joints force/moment/torque can be now retrieved:</p>
<p><code> Matrix F = armWSensorSolver-&gt;getForces(); </code> <br  />
<code> Matrix Mu = armWSensorSolver-&gt;getMoments(); </code> <br  />
<code> Vector Tau = armWSensorSolver-&gt;getTorques(); </code> <br  />
 </p><dl class="section author"><dt>Author</dt><dd>Serena Ivaldi</dd></dl>
<p>Copyright (C) 2010 RobotCub Consortium CopyPolicy: Released under the terms of the GNU GPL v2.0. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 26 2024 16:02:19 for iCub-main by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
