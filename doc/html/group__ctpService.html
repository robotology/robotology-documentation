<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iCub-main: constantTimePositionService</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iCub-main
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">constantTimePositionService<div class="ingroups"><a class="el" href="group__icub__modules__all.html">Software</a> &raquo; <a class="el" href="group__icub__module.html">iCub modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A simple service that allows you to send constant time position commands to any of the robot ports.  
</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for constantTimePositionService:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__ctpService.png" border="0" usemap="#agroup____ctpService" alt=""/></div>
<map name="agroup____ctpService" id="agroup____ctpService">
<area shape="rect" title="A simple service that allows you to send constant time position commands to any of the robot ports." alt="" coords="164,5,375,31"/>
<area shape="rect" href="group__icub__module.html" title="This is the list of iCub modules, i.e." alt="" coords="5,5,116,31"/>
</map>
</div>
<p>A simple service that allows you to send constant time position commands to any of the robot ports. </p>
<h1><a class="anchor" id="intro_sec"></a>
Description</h1>
<p>Sit silently and waits for incoming commands. Receive position commands requests and sends position commands, but it computes the reference speeds so that commands are all executed in the same time irrespectively of the current position (the service reads the current encoders and compute the reference speed accordingly).</p>
<h1><a class="anchor" id="ports_sec"></a>
Ports and Messages</h1>
<ul>
<li>Input, for receiving commands:<ul>
<li>/ctpservice/{part}/rpc</li>
</ul>
</li>
<li>Output, to interface with the robot, usual control board ports:<ul>
<li>/ctpservice/local/{part}/rpc:o</li>
<li>/ctpservice/local/{part}/state:i</li>
<li>/ctpservice/local/{part}/command:o</li>
</ul>
</li>
<li>Output, to interface with the <a class="el" href="group__icub__velocityControl.html">velocityControl</a> module:<ul>
<li>/ctpservice/{part}/vc:o</li>
</ul>
</li>
</ul>
<p>Here {part} is replaced with the robot part (see &ndash;part parameter)</p>
<p>ctpservice is a default value that can be replaced with &ndash;name.</p>
<p>Incoming commands are the following:</p>
<p>[ctpn] [time] TIME(seconds) [off] j [pos] list</p>
<p>Execute command. Command will take TIME seconds, the list of position will be sent to the motors starting from offset j.</p>
<p>or</p>
<p>[ctpq] [time] TIME (seconds) [off] j [pos] list</p>
<p>Queue commands for execution. Command will take TIME seconds, the list of position will be sent to the motors starting from offset j</p>
<p>or</p>
<p>[ctpf] filename (in yarpdatadumper format)</p>
<p>Example: This requires 1 second movement of joints 5,6,7 to 10 10 10 respectively: [ctpn] [time] 1 [off] 5 [pos] (10 10 10)</p>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p>Run as:</p>
<p>ctpService &ndash;robot robotname &ndash;part part [&ndash;name modulename] [&ndash;autochange_control_mode_enable]</p>
<p>robot: name of robot (e.g. icub)</p>
<p>part: prefix for part name (e.g. right_arm)</p>
<p>name: [optional] module name (used to form port names)</p>
<p>autochange_control_mode_enable: [optional] sets the joints to position mode when trying to execute the command (default off)</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<ul>
<li>YARP libraries.</li>
</ul>
<h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<p>Windows, Linux</p>
<p>Copyright (C) 2010 RobotCub Consortium</p>
<p>CopyPolicy: Released under the terms of the GNU GPL v2.0.</p>
<p>Author: Lorenzo Natale </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 26 2024 16:02:19 for iCub-main by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
